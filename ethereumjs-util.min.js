/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/ethereumjs-util@6.1.0/dist/index.js
 * 
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var BN=require("bn.js");exports.BN=BN;var rlp=require("rlp");exports.rlp=rlp;var createKeccakHash=require("keccak"),secp256k1=require("secp256k1");exports.secp256k1=secp256k1;var assert=require("assert"),createHash=require("create-hash"),Buffer=require("safe-buffer").Buffer,ethjsUtil=require("ethjs-util");function calculateSigRecovery(e,r){return r?e-(2*r+35):e-27}function isValidSigRecovery(e){return 0===e||1===e}Object.assign(exports,ethjsUtil),exports.MAX_INTEGER=new BN("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),exports.TWO_POW256=new BN("10000000000000000000000000000000000000000000000000000000000000000",16),exports.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",exports.KECCAK256_NULL=Buffer.from(exports.KECCAK256_NULL_S,"hex"),exports.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",exports.KECCAK256_RLP_ARRAY=Buffer.from(exports.KECCAK256_RLP_ARRAY_S,"hex"),exports.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",exports.KECCAK256_RLP=Buffer.from(exports.KECCAK256_RLP_S,"hex"),exports.zeros=function(e){return Buffer.allocUnsafe(e).fill(0)},exports.zeroAddress=function(){var e=exports.zeros(20);return exports.bufferToHex(e)},exports.setLengthLeft=function(e,r,t){void 0===t&&(t=!1);var f=exports.zeros(r);return e=exports.toBuffer(e),t?e.length<r?(e.copy(f),f):e.slice(0,r):e.length<r?(e.copy(f,r-e.length),f):e.slice(-r)},exports.setLength=exports.setLengthLeft,exports.setLengthRight=function(e,r){return exports.setLength(e,r,!0)},exports.unpad=function(e){for(var r=(e=ethjsUtil.stripHexPrefix(e))[0];e.length>0&&"0"===r.toString();)r=(e=e.slice(1))[0];return e},exports.stripZeros=exports.unpad,exports.toBuffer=function(e){if(!Buffer.isBuffer(e))if(Array.isArray(e))e=Buffer.from(e);else if("string"==typeof e)e=exports.isHexString(e)?Buffer.from(exports.padToEven(exports.stripHexPrefix(e)),"hex"):Buffer.from(e);else if("number"==typeof e)e=exports.intToBuffer(e);else if(null==e)e=Buffer.allocUnsafe(0);else if(BN.isBN(e))e=e.toArrayLike(Buffer);else{if(!e.toArray)throw new Error("invalid type");e=Buffer.from(e.toArray())}return e},exports.bufferToInt=function(e){return new BN(exports.toBuffer(e)).toNumber()},exports.bufferToHex=function(e){return"0x"+(e=exports.toBuffer(e)).toString("hex")},exports.fromSigned=function(e){return new BN(e).fromTwos(256)},exports.toUnsigned=function(e){return Buffer.from(e.toTwos(256).toArray())},exports.keccak=function(e,r){return void 0===r&&(r=256),e=exports.toBuffer(e),r||(r=256),createKeccakHash("keccak"+r).update(e).digest()},exports.keccak256=function(e){return exports.keccak(e)},exports.sha256=function(e){return e=exports.toBuffer(e),createHash("sha256").update(e).digest()},exports.ripemd160=function(e,r){e=exports.toBuffer(e);var t=createHash("rmd160").update(e).digest();return!0===r?exports.setLength(t,32):t},exports.rlphash=function(e){return exports.keccak(rlp.encode(e))},exports.isValidPrivate=function(e){return secp256k1.privateKeyVerify(e)},exports.isValidPublic=function(e,r){return void 0===r&&(r=!1),64===e.length?secp256k1.publicKeyVerify(Buffer.concat([Buffer.from([4]),e])):!!r&&secp256k1.publicKeyVerify(e)},exports.pubToAddress=function(e,r){return void 0===r&&(r=!1),e=exports.toBuffer(e),r&&64!==e.length&&(e=secp256k1.publicKeyConvert(e,!1).slice(1)),assert(64===e.length),exports.keccak(e).slice(-20)},exports.publicToAddress=exports.pubToAddress,exports.privateToPublic=function(e){return e=exports.toBuffer(e),secp256k1.publicKeyCreate(e,!1).slice(1)},exports.importPublic=function(e){return 64!==(e=exports.toBuffer(e)).length&&(e=secp256k1.publicKeyConvert(e,!1).slice(1)),e},exports.ecsign=function(e,r,t){var f=secp256k1.sign(e,r),o=f.recovery;return{r:f.signature.slice(0,32),s:f.signature.slice(32,64),v:t?o+(2*t+35):o+27}},exports.hashPersonalMessage=function(e){var r=exports.toBuffer("Ethereum Signed Message:\n"+e.length.toString());return exports.keccak(Buffer.concat([r,e]))},exports.ecrecover=function(e,r,t,f,o){var s=Buffer.concat([exports.setLength(t,32),exports.setLength(f,32)],64),n=calculateSigRecovery(r,o);if(!isValidSigRecovery(n))throw new Error("Invalid signature v value");var i=secp256k1.recover(e,s,n);return secp256k1.publicKeyConvert(i,!1).slice(1)},exports.toRpcSig=function(e,r,t,f){if(!isValidSigRecovery(calculateSigRecovery(e,f)))throw new Error("Invalid signature v value");return exports.bufferToHex(Buffer.concat([exports.setLengthLeft(r,32),exports.setLengthLeft(t,32),exports.toBuffer(e)]))},exports.fromRpcSig=function(e){var r=exports.toBuffer(e);if(65!==r.length)throw new Error("Invalid signature length");var t=r[64];return t<27&&(t+=27),{v:t,r:r.slice(0,32),s:r.slice(32,64)}},exports.privateToAddress=function(e){return exports.publicToAddress(exports.privateToPublic(e))},exports.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},exports.isZeroAddress=function(e){return exports.zeroAddress()===exports.addHexPrefix(e)},exports.toChecksumAddress=function(e){e=ethjsUtil.stripHexPrefix(e).toLowerCase();for(var r=exports.keccak(e).toString("hex"),t="0x",f=0;f<e.length;f++)parseInt(r[f],16)>=8?t+=e[f].toUpperCase():t+=e[f];return t},exports.isValidChecksumAddress=function(e){return exports.isValidAddress(e)&&exports.toChecksumAddress(e)===e},exports.generateAddress=function(e,r){e=exports.toBuffer(e);var t=new BN(r);return t.isZero()?exports.rlphash([e,null]).slice(-20):exports.rlphash([e,Buffer.from(t.toArray())]).slice(-20)},exports.generateAddress2=function(e,r,t){var f=exports.toBuffer(e),o=exports.toBuffer(r),s=exports.toBuffer(t);return assert(20===f.length),assert(32===o.length),exports.keccak256(Buffer.concat([Buffer.from("ff","hex"),f,o,exports.keccak256(s)])).slice(-20)},exports.isPrecompiled=function(e){var r=exports.unpad(e);return 1===r.length&&r[0]>=1&&r[0]<=8},exports.addHexPrefix=function(e){return"string"!=typeof e?e:ethjsUtil.isHexPrefixed(e)?e:"0x"+e},exports.isValidSignature=function(e,r,t,f,o){void 0===f&&(f=!0);var s=new BN("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),n=new BN("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==r.length||32!==t.length)return!1;if(!isValidSigRecovery(calculateSigRecovery(e,o)))return!1;var i=new BN(r),u=new BN(t);return!(i.isZero()||i.gt(n)||u.isZero()||u.gt(n))&&(!f||1!==u.cmp(s))},exports.baToJSON=function(e){if(Buffer.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],t=0;t<e.length;t++)r.push(exports.baToJSON(e[t]));return r}},exports.defineProperties=function(e,r,t){if(e.raw=[],e._fields=[],e.toJSON=function(r){if(void 0===r&&(r=!1),r){var t={};return e._fields.forEach(function(r){t[r]="0x"+e[r].toString("hex")}),t}return exports.baToJSON(e.raw)},e.serialize=function(){return rlp.encode(e.raw)},r.forEach(function(r,t){function f(){return e.raw[t]}function o(f){"00"!==(f=exports.toBuffer(f)).toString("hex")||r.allowZero||(f=Buffer.allocUnsafe(0)),r.allowLess&&r.length?(f=exports.stripZeros(f),assert(r.length>=f.length,"The field "+r.name+" must not have more "+r.length+" bytes")):r.allowZero&&0===f.length||!r.length||assert(r.length===f.length,"The field "+r.name+" must have byte length of "+r.length),e.raw[t]=f}e._fields.push(r.name),Object.defineProperty(e,r.name,{enumerable:!0,configurable:!0,get:f,set:o}),r.default&&(e[r.name]=r.default),r.alias&&Object.defineProperty(e,r.alias,{enumerable:!1,configurable:!0,set:o,get:f})}),t)if("string"==typeof t&&(t=Buffer.from(ethjsUtil.stripHexPrefix(t),"hex")),Buffer.isBuffer(t)&&(t=rlp.decode(t)),Array.isArray(t)){if(t.length>e._fields.length)throw new Error("wrong number of fields in data");t.forEach(function(r,t){e[e._fields[t]]=exports.toBuffer(r)})}else{if("object"!=typeof t)throw new Error("invalid data");var f=Object.keys(t);r.forEach(function(r){-1!==f.indexOf(r.name)&&(e[r.name]=t[r.name]),-1!==f.indexOf(r.alias)&&(e[r.alias]=t[r.alias])})}};
//# sourceMappingURL=/sm/6c9f98e8297224fe108c28c646f24193ad4bc1e89a8bb3b583203133be08dd84.map